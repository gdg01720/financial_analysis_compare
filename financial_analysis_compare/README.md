# 📊 企業財務比較ダッシュボード

大手小売業の財務データを比較分析するStreamlitダッシュボードアプリケーションです。

## 🎯 機能

### 業種グループ別比較
- **イオングループ**: イオン北海道、イオン九州、マックスバリュ東海、フジ・リテイリング、U.S.M.H、ツルハ
- **ドラッグストア**: ツルハ、マツキヨココカラ、コスモス薬品、クリエイトSD、サンドラッグ、スギ薬局、クスリのアオキ
- **ホームセンター**: DCMHD、コーナン、コメリ、アークランズ、ジョイフル本田
- **スーパーマーケット（全国）**: PPIH、トライアル
- **スーパーマーケット（東日本）**: イオン北海道、アークス、ヤオコー、ライフ、ベルク、U.S.M.H
- **スーパーマーケット（西日本）**: 平和堂、バロー、イズミ、ライフ、ハローズ、マックスバリュ東海、フジ・リテイリング
- **カスタム**: 任意の企業を選択可能

### 分析タブ
| タブ | 内容 |
|-----|------|
| 📊 収益比較(PL) | 売上高、営業利益、成長率、営業利益率、主要KPI |
| 🏗️ 収益・コスト構造 | 収益構造、コスト構造分解 |
| 🏦 財政状態(BS) | 総資産、棚卸資産、回転率 |
| 💰 キャッシュフロー | 営業CF、投資CF、財務CF、フリーCF |
| 👥 労働生産性 | 1人当り売上高・営業利益 |

### 主要KPI
- 収益性指標: ROIC、実質ROE、ROA、ROE
- 株価指標: PER、PBR、配当利回り、時価総額

## 📁 フォルダ構成

```
├── app_compare7.py      # メインアプリケーション
├── requirements.txt     # 必要なパッケージ
├── README.md           # このファイル
├── .gitignore          # Git除外設定
├── data/
│   └── financial_data.xlsx  # 財務データ
└── fonts/
    └── ipaexg.ttf      # 日本語フォント（IPAexゴシック）
```

## 🚀 セットアップ

### 1. リポジトリのクローン
```bash
git clone https://github.com/YOUR_USERNAME/YOUR_REPO.git
cd YOUR_REPO
```

### 2. 仮想環境の作成（推奨）
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

### 3. パッケージのインストール
```bash
pip install -r requirements.txt
```

### 4. データの準備
- `data/` フォルダに `financial_data.xlsx` を配置
- 必要な列: 企業名, 決算年度, 売上高, 営業利益, 営業利益率 など

### 5. フォントの準備（オプション）
- `fonts/` フォルダに `ipaexg.ttf`（IPAexゴシック）を配置
- フォントがない場合はシステムフォントにフォールバック

### 6. アプリの起動
```bash
streamlit run app_compare7.py
```

## ☁️ Streamlit Cloudへのデプロイ

1. GitHubにリポジトリをプッシュ
2. [Streamlit Cloud](https://share.streamlit.io/) にアクセス
3. 「New app」をクリック
4. リポジトリとブランチを選択
5. メインファイルに `app_compare7.py` を指定
6. 「Deploy!」をクリック

## 📋 必要なデータ列

`financial_data.xlsx` に必要な主な列:

| 列名 | 説明 |
|-----|------|
| 企業名 | 企業名称 |
| 決算年度 | 決算年度（例: 2024） |
| 売上高 | 売上高（円） |
| 営業利益 | 営業利益（円） |
| 営業利益率 | 営業利益率（%） |
| 売上総利益率 | 売上総利益率（%） |
| 販管費 | 販売費及び一般管理費（円） |
| 総資産 | 総資産（円） |
| 純資産 | 純資産（円） |
| 営業CF | 営業キャッシュフロー（円） |
| 投資CF | 投資キャッシュフロー（円） |
| 財務CF | 財務キャッシュフロー（円） |
| フリーCF | フリーキャッシュフロー（円） |
| ROIC | 投下資本利益率（%） |
| ROE | 自己資本利益率（%） |
| ROA | 総資産利益率（%） |
| PER（会予） | 株価収益率（倍） |
| PBR | 株価純資産倍率（倍） |
| 時価総額 | 時価総額（円） |

## 📝 ライセンス

MIT License

## 🔧 技術スタック

- Python 3.9+
- Streamlit
- Pandas
- Matplotlib
- Seaborn
- NumPy
